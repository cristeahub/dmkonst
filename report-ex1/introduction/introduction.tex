\section{Introduction}
\label{sec:intro}

``
Introduction: introduces the task of the assignment and the challenges it brings.
Also, it gives a brief introduction to how the task was approached and in which way the solution was reached.
``

This report presents a solution to Project \#1 of TDT4255 at NTNU.
The main requirement of the assignment is to make a multi cycle MIPS processor\cite[p.47]{compendium}. The design should be verified with VHDL testbenches, and finally tested by deploying it to the Xilinx Spartan-6 FPGA.

\subsection{Single- and multi cycle processors}

A single cycle processor is able to execute any of its instructions within a single clock period.
This results in simpler hardware, but restricts the processors clock period to the execution time of its slowest instruction.
Disadvantages include having idle datapath elements during some instructions, slow average execution time, and sometimes being required to duplicate execution units.

To work around these issues, the datapath can be partitioned into multiple register-separated elements.
Instructions now require multiple cycles to finish, but simple instructions are no longer bound by the execution time of more complex ones.
This design allows reuse of datapath elements during different execution stages, resulting in a smaller footprint.
Clock speed also increases significantly, as the critical path is reduced to the longest register-separated datapath segment.

\subsection{Requirements}
\label{subsec:req}
A suggested architecture was provided in Figure 4.1 \cite[p.45]{compendium}, but was abandoned in favor of the basic multi cycle architecture presented in lecture 4.\cite{lecture-4}

The final processor design implements the following subset of the MIPS instruction set.

\begin{itemize}
    \item ALU instructions (ADD, SUB, SLT, AND, OR, SLL, SRL)
    \item Conditional Branch (BEZ)
    \item Jump Instruction (JMP)
    \item LOAD, STORE, Load immediate (LW, SW, LDI)
\end{itemize}

Note: the {\bf LDI} (Load Immediate) instruction is not a part of the MIPS instruction set\footnote{Figure C.1 \cite[p.66]{compendium}}.
The {\bf LUI} (Load Upper Immediate) is the closest match.
This instruction loads the value into the upper 16 bits of the register.
The support files handed out already used this instruction.

The system is first tested and verified in software, before moving on to testing on hardware.
The testing of the system both in software and in hardware is detailed in section%\vref{sec:testing}.

\subsection{Challenges and procedure}

The assignment provides several tasks that needs solving, these are detailed in section%\vref{sec:tasks}.
One goal set for the assignment is making sure all code complies with the standard set forth by the toolmakers (need to reword toolmakers).

The assignment is tackled on a bottom-up approach.
After an initial top design each smaller part of the system is made.
These smaller parts is tested to make sure they work.
When all parts are working individually they are tested together.
